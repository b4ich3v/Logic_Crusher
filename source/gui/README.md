### **Обща концепция**

### **Основни Компоненти**

1. **GUI (Graphical User Interface):** Използва Tkinter за създаване на прозорци, бутони, полета за въвеждане и други елементи на потребителския интерфейс.
2. **Boolean Logic Operations:** Използва модули като `boolean_functions`, `gate_parser`, `validator`, и `karnaugh` за обработка на логически изрази.
3. **Visualization:** Използва Graphviz за визуализация на AST и логически схеми, а Matplotlib за Вен диаграми.
4. **File Operations:** Позволява запазване на обработените логически функции във файлове във формат JSON.
5. **Set Operations:** Предоставя функционалности за работа с множества, включително операции като обединение, пресичане, разлика и други.

---
### **Основни Функции за Логически Изрази**

1. **`simplify_expression()`**
  - **Цел:** Опростява избрания логически израз.
  - **Процес:**
    - Взема избрания израз.
    - Валидира синтаксиса му.
    - Създава обект `BooleanFunction` и добавя към `function_set`.
    - Опростява израза и показва резултата в `result_label`.
      
2. **`zhegalkin_polynomial()`**
  - **Цел:** Генерира полинома на Жегалкин за избрания логически израз.
  - **Процес:**
    - Взема и валидира израза.
    - Създава обект `BooleanFunction` и добавя към `function_set`.
    - Генерира полинома на Жегалкин и го показва в `result_label`.
      
3. **`check_properties()`**
  - **Цел:** Проверява различни свойства на избрания логически израз, като запазване на нула и единица, самодуелност, монотонност и линейност.
  - **Процес:**
    - Взема и валидира израза.
    - Създава обект `BooleanFunction` и добавя към `function_set`.
    - Проверява свойствата и показва резултатите в `result_label`.
      
4. **`minimize_expression()`**
  - **Цел:** Минимизира избрания логически израз.
  - **Процес:**
    - Взема и валидира израза.
    - Създава обект `BooleanFunction` и добавя към `function_set`.
    - Минимизира израза и показва резултата в `result_label`.
      
5. **`decompose_expression()`**
  - **Цел:** Декомпозира избрания логически израз по дадена променлива, изчислявайки кофактори при променливата `0` и `1`.
  - **Процес:**
    - Взема израза и променливата за декомпозиция.
    - Валидира израза.
    - Създава обект `BooleanFunction` и добавя към `function_set`.
    - Декомпозира израза и показва резултатите в `result_label`.
      
6. **`generate_kmap()`**
  - **Цел:** Генерира Карно карта за избрания логически израз.
  - **Процес:**
    - Взема и валидира израза.
    - Създава обект `BooleanFunction` и добавя към `function_set`.
    - Проверява броя на променливите и генерира Карно карта, ако е допустимо, показвайки я с Graphviz.
      
7. **`save_to_file()`**
  - **Цел:** Запазва информацията за логическите функции в JSON файл.
  - **Процес:**
    - Взема информацията от `function_set`.
    - Отваря диалог за избор на файл.
    - Запазва данните във избрания файл.
      
8. **`visualize_ast()`**
  - **Цел:** Визуализира абстрактното синтактично дърво (AST) на избрания логически израз.
  - **Процес:**
    - Взема и валидира израза.
    - Създава обект `BooleanFunction` и добавя към `function_set`.
    - Визуализира AST с Graphviz и показва изображението.
      
9. **`check_equivalence()`**
  - **Цел:** Проверява дали два логически израза са еквивалентни.
  - **Процес:**
    - Взема и валидира двата израза.
    - Създава обекти `BooleanFunction` за двата израза и ги добавя към `function_set`.
    - Генерира полиномите на Жегалкин и сравнява.
    - Ако не са еквивалентни, изчислява разликата в броя на входните комбинации.
      
10. **`difference_measure(f1, f2)`**
  - **Цел:** Изчислява разликата между две логически функции като броя на входните комбинации, при които те се различават.
  - Процес:
    - Обединява всички променливи от двете функции.
    - Изчислява стойностите на двете функции за всяка комбинация.
    - Брои разликите.
      
11. **`generate_circuit()`**
  - **Цел:** Генерира логическа схема `circuit diagram` за избрания логически израз.
  - **Процес:**
    - Взема и валидира израза.
    - Създава обект `BooleanFunction` и добавя към `function_set`.
    - Минимизира израза и парсва минимизирания израз в AST на гейтове.
    - Визуализира логическата схема с Graphviz.

---
### **Помощни Функции**

1. **`get_selected_expression()`**
  - **Цел:** Връща избрания логически израз (първи или втори).
  - **Процес:**
    - Проверява стойността на `selected_expr`.
    - Връща съдържанието на съответното поле за въвеждане.
      
2. **`open_help_website()`**
  - **Цел:** Отваря уебсайт с помощни инструкции(гитхъб).
  - **Процес:**
    - Използва модула `webbrowser` за отваряне на даден URL адрес.

### **Функции за Работа с Множества**

1. **`open_sets_window()`**
  - **Цел:** Отваря нов прозорец за извършване на операции със множества.
  - **Процес:**
    - Създава ново Tkinter окно с полета за въвеждане на два множества.
    - Добавя бутони за различни операции (обединение, пресичане, разлика, симетрична разлика, Вен диаграма и др.).
    - Определя функции за всяка операция, които обработват въведените множества и показват резултатите.
      
2. **Вътрешни Функции в `open_sets_window()`**
  - **`sets_to_bitmasks(s1, s2)`:** Преобразува две множества в битови маски за по-лесни битови операции.
  - **`bitmask_to_set(bitmask, all_els)`:** Преобразува битова маска обратно в множество.
  - **`parse_set(entry)`:** Парсира въведения текст и го преобразува в множество.
  - **`perform_set_operation(entry1, entry2, operation)`:** Извършва избраната операция (обединение, пресичане и т.н.) върху двете множества и показва резултата.
  - **`check_all_relations()`:** Проверява различни отношения между двете множества, като подмножество, супермножество, равенство и други.
  - **`perform_set_relation(entry1, entry2, relation)`:** Извършва конкретна проверка за отношение между двете множества (например дискретност).
  - **`power_set_both()`:** Генерира и показва мощните множества (power sets) на двете въведени множества.
  - **`plot_venn()`:** Генерира Вен диаграма за двете множества с помощта на Matplotlib.
  - **`cartesian_product(entry1, entry2)`:** Изчислява и показва декартовото произведение на двете множества.
  - **`cardinality(entry1, entry2)`:** Изчислява и показва кардиналността (брой елементи) на двете множества.

---
### **Основна Функция за Стартиране**

1. **`run()`**
  - **Цел:** Инициализира и стартира главния прозорец на приложението.
  - **Процес:**
    - Създава главен Tkinter прозорец.
    - Настройва размера и стиловете на прозореца, включително фонови изображения и анимации, ако са налични.
    - Добавя елементи за въвеждане на логически изрази и променливи.
    - Създава бутони за всички основни операции (опростяване, минимизиране, генерация на Карно карта и други).
    - Добавя бутони за запазване на резултатите, помощ и операции със множества.
    - Стартира главния цикъл на Tkinter `root.mainloop()`, който поддържа приложението активно.

---
